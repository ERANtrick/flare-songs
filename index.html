<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Flare Songs</title>

  <!-- Bootstrap CSS -->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
    rel="stylesheet"
  />
  <!-- PapaParse -->
  <script src="https://cdn.jsdelivr.net/npm/papaparse@5.3.2/papaparse.min.js"></script>

  <style>
    /* サムネイルを16:9で中央クロップ */
    .card-img-wrapper {
      position: relative;
      width: 100%;
      padding-top: 56.25%;
      overflow: hidden;
    }
    .card-img-wrapper img {
      position: absolute;
      top: 50%;
      left: 50%;
      width: auto;
      height: 100%;
      transform: translate(-50%, -50%);
      object-fit: cover;
    }
  </style>
</head>
<body>
  <div class="container py-4">
    <h1 class="mb-4">不知火フレア 歌リスト</h1>

    <!-- 配信選択 -->
    <div class="mb-3 d-flex align-items-center gap-2">
      <label for="session-select" class="m-0">配信を選択:</label>
      <select id="session-select" class="form-select w-auto">
        <option value="">すべての配信</option>
      </select>
    </div>

    <!-- 並び替え -->
    <div class="mb-3 d-flex align-items-center gap-2">
      <label for="sort-select" class="m-0">並び替え:</label>
      <select id="sort-select" class="form-select w-auto">
        <option value="date-desc">配信日順（新しい順）</option>
        <option value="date-asc">配信日順（古い順）</option>
        <option value="title">曲名順</option>
        <option value="random">ランダム</option>
      </select>
    </div>

    <!-- 検索 -->
    <div class="mb-3">
      <input
        type="text"
        id="search-input"
        class="form-control"
        placeholder="曲名で絞り込み..."
      />
    </div>

    <!-- リセット -->
    <button id="reset-btn" class="btn btn-outline-secondary btn-sm mb-3">
      リセット
    </button>

    <!-- カテゴリ -->
    <div class="mb-3 d-flex align-items-center gap-2">
      <label for="category-select" class="m-0">カテゴリ:</label>
      <select id="category-select" class="form-select w-auto">
        <option value="">すべて</option>
      </select>
    </div>

    <!-- 曲リスト -->
    <div id="song-list" class="accordion"></div>
  </div>

  <!-- Bootstrap JS -->
  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
  ></script>
  <!-- 自作スクリプト -->
  <script src="script.js"></script>

  <!-- 動画再生モーダル -->
  <div class="modal fade" id="videoModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-xl modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">動画を再生</h5>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="modal"
            aria-label="閉じる"
          ></button>
        </div>
        <div
          class="modal-body p-0"
          style="position:relative;padding-top:56.25%;"
        >
          <!-- JS でここに iframe を挿入 -->
        </div>
        <div class="modal-footer d-flex justify-content-between">
          <a
            id="openOnYT"
            href="#"
            target="_blank"
            class="btn btn-outline-primary"
          >
            YouTube で開く
          </a>
          <button
            type="button"
            class="btn btn-secondary"
            data-bs-dismiss="modal"
          >
            閉じる
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- 登録促進Toast -->
  <div class="toast-container position-fixed bottom-0 end-0 p-3">
    <div id="subscribeToast" class="toast" role="alert">
      <div class="toast-header">
        <strong class="me-auto">Flare さんを応援！</strong>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="toast"
        ></button>
      </div>
      <div class="toast-body">
        よければ
        <a
          href="https://www.youtube.com/channel/UC...yourChannelID..."
          target="_blank"
        >
          チャンネル登録
        </a>
        をお願いします✨
      </div>
    </div>
  </div>
</body>
</html>